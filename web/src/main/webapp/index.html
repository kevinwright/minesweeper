<lift:surround with="default" at="content">
    <head>
        <link rel="stylesheet" type="text/css" href="css/minesweeper.css" />

        
        <script type="text/javascript" src="js/cellFlipFuncs.js" />

        <lift:mineGrid.clickHandlerScripts/>

        <script type="text/javascript">
            $(document).ready(function(){
                $('.minegrid .row a').live('click', function(event){
                    event.stopPropagation();
                    cellLeftClick(event.target.id)
                    event.preventDefault();
                });
                $('.minegrid .row a').live('contextmenu', function(event){
                    event.stopPropagation();
                    cellRightClick(event.target.id)
                    event.preventDefault();
                });
            });
        </script>
    </head>

    <h2>Minesweeper!</h2>
    A demo of Lift 2.0 + Scala 2.8 running on Stax.net
    <hr/>
    <p>Left-Click to reveal a square, Right-Click to flag as a mine</p>
    <hr/>
    <p>
      <lift:mineGrid.show/>
    </p>

    <br style="clear:both"/>

    <p>
        <lift:mineGrid.stats>
            <ul>
              <li>total: <stat:total/> (<stat:visible/> revealed, <stat:notvisible/> hidden)</li>
              <li>mined: <stat:mined/> (<stat:flagged/> flagged, <stat:remaining/> remaining)</li>
            </ul>
        </lift:mineGrid.stats>
        
        <lift:mineGrid.reset/>
    </p>

    <br style="clear:both"/>
</lift:surround>

